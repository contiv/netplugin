

# How to setup Contiv

## Downloading Contiv
https://github.com/contiv/netplugin/releases

Download tarball for the version you want to try.
  - `netplugin` and `netmaster` are main binaries which are part of contiv networking.
  - `netctl` is command line utinlity you will need to talk to netmaster.

## How to start netmaster ? 

We recommend starting netmaster on master node in your master slave architecture. You can start netmaster in HA mode and appropriate netmaster node will handle all the queries from end user. 

```
netmaster --help
Usage: netmaster [OPTION]...
  -cluster-mode string
        {docker, kubernetes} (default "docker")
  -cluster-store string
        Etcd or Consul cluster store url. (default "etcd://127.0.0.1:2379") << we support consul as well, you need to change it here.
  -debug
        Turn on debugging information
  -help
        prints this message
  -listen-url string
        Url to listen http requests on (default ":9999")
  -version
        prints current version
```

## How to start netplugin ? 

You start netplugin on each node in your cluster.

```
netplugin --help
Usage of netplugin:
  -cluster-store string
        state store url (default "etcd://127.0.0.1:2379")
  -config string
        plugin configuration. Use '-' to read configuration from stdin
  -ctrl-ip string
        Local ip address to be used for control communication
  -debug
        Show debugging information generated by netplugin
  -host-label string
        label used to identify endpoints homed for this host, default is host name. If -config flag is used then host-label must be specified in the the configuration passed. (default "aci-testbed-swarm-1")
  -json-log
        Format logs as JSON
  -plugin-mode string
        plugin mode docker|kubernetes (default "docker")
  -syslog string
        Log to syslog at proto://ip:port -- use 'kernel' to log via kernel syslog
  -version
        Show version
  -vlan-if string
        VLAN uplink interface
  -vtep-ip string
        My VTEP ip address
```

for example we can start netplugin in following manner :
```
For example:
netplugin -plugin-mode docker -vlan-if eno33559296 -vtep-ip 10.193.246.2 -ctrl-ip 10.193.246.2
where,
eno33559296 = Data interface of the node on which this netplugin is running
10.193.246.2 = Control IP of my node
plugin mode can be either docker or k8s
vtep-ip : etcd master machine's control interface. This is optional.
```
